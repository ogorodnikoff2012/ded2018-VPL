Example of usage
===

You can see here several files, some of them are generated with instruments from [related project](https://github.com/ogorodnikoff2012/ded2018-stack-vm):

- [`phibonacci.c`](phibonacci.c), source code on C (actually, on its subset supported by this compiler);
- [`phibonacci.c.vasm`](phibonacci.c.vasm), equivalent assembler code (compiled with this compiler);
- [`_start.vasm`](_start.vasm), contains trampoline and IO function wrappers;
- [`phibonacci.c.vobj`](phibonacci.c.vobj) and [`_start.vobj`](_start.vobj), object files built with `asm` tool from [Stack VM Project](https://github.com/ogorodnikoff2012/ded2018-stack-vm) (uses my own format which is NOT comatible with ELF);
- [`phibonacci.c.vobj.objdump.log`](phibonacci.c.vobj.objdump.log), generated by `objdump` tool from Stack VM Project;
- [`a.vexe`](a.vexe), linked "executable" (in fact, file with bytecode) generated with `ld` tool (always from Stack VM Project);
- [`a.vexe.objdump.log`](a.vexe.objdump.log).

JIT compilator vs `for(;;)`-based interpreter
---

```
$ echo 35 | time ../../StackVM/bin/vm a.vexe
14930352
196.84user 0.01system 3:17.25elapsed 99%CPU (0avgtext+0avgdata 3552maxresident)k
0inputs+0outputs (0major+141minor)pagefaults 0swaps

$ echo 35 | time ../../StackVM/bin/jit a.vexe
14930352
0.32user 0.00system 0:00.32elapsed 99%CPU (0avgtext+0avgdata 3512maxresident)k
0inputs+0outputs (0major+146minor)pagefaults 0swaps
```
